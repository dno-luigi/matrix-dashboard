<!DOCTYPE html>
<html>
<head>
    <title>ğŸ§© Matrix AI Code Assist - Infinite Context</title>
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.css">
</head>
<body>
    <div class="dashboard">
        <header>
            <h1>ğŸ§© Matrix AI Code Assist</h1>
            <p>Infinite context via Session Durable Object Memory</p>
        </header>

        <div class="editor-section">
            <div class="editor-tabs">
                <button class="tab active" onclick="switchTab('code')">ğŸ’» Code</button>
                <button class="tab" onclick="switchTab('ai')">ğŸ¤– AI Assist</button>
                <button class="tab" onclick="switchTab('sandbox')">ğŸ Sandbox</button>
                <button class="tab" onclick="switchTab('context')">ğŸ§  Context Memory</button>
                <button class="tab" onclick="switchTab('deploy')">ğŸš€ Deploy</button>
            </div>
            
            <!-- CODE TAB -->
            <div id="code-tab" class="tab-content active">
                <div class="editor-header">
                    <select id="language" onchange="setLanguage(this.value)">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="typescript">TypeScript</option>
                    </select>
                    <div class="editor-actions">
                        <button onclick="aiSuggest()">ğŸ¤– AI Suggest (Full Context)</button>
                        <button onclick="testCode()">ğŸ§ª Test</button>
                        <button onclick="formatCode()">âœ¨ Format</button>
                    </div>
                </div>
                <textarea id="code-editor">// Welcome to your infinite AI coding assistant!
// Upload your entire codebase to Context tab for superhuman suggestions
console.log('ğŸ§  Session Memory Active');
const matrix = {
    context: 'Infinite via Durable Objects âœ…',
    ai: 'Context-aware ğŸ¤–',
    sandbox: 'Live ğŸ'
};</textarea>
            </div>

            <!-- AI ASSIST TAB -->
            <div id="ai-tab" class="tab-content">
                <div class="ai-input">
                    <input id="ai-prompt" placeholder="Describe what you need: 'refactor auth', 'add error handling', 'create React component'...">
                    <button onclick="generateCode()">âœ¨ Generate</button>
                </div>
                <div id="ai-output" class="ai-output">Ask me anything - I remember your entire project context!</div>
            </div>

            <!-- SANDBOX TAB -->
            <div id="sandbox-tab" class="tab-content">
                <textarea id="sandbox-code" placeholder="Python for Matrix Sandbox...">print("Hello from infinite context Matrix!")
import sys
print(f"Python {sys.version}")
print("Your Session Memory context is available to AI!")</textarea>
                <button onclick="runSandbox()">ğŸ Run in Sandbox</button>
                <div id="sandbox-output"></div>
            </div>

            <!-- CONTEXT MEMORY TAB -->
            <div id="context-tab" class="tab-content">
                <div class="context-section">
                    <h3>ğŸ§  Session Durable Object Memory <span style="font-size:0.8em;color:#aaa">(Infinite Context)</span></h3>
                    <textarea id="context-upload" placeholder="Upload ENTIRE codebase, docs, specs... Session Memory stores it ALL!"></textarea>
                    <div class="context-actions">
                        <button onclick="uploadContext()">ğŸ’¾ Save to Memory</button>
                        <button onclick="loadContext()">ğŸ“‚ Load Context</button>
                        <button onclick="clearContext()">ğŸ—‘ï¸ Clear Memory</button>
                    </div>
                    <div id="context-status">Ready to store unlimited context in Durable Object...</div>
                </div>
            </div>

            <!-- DEPLOY TAB -->
            <div id="deploy-tab" class="tab-content">
                <input id="project-name" placeholder="matrix-admin">
                <button onclick="deployProject()">ğŸš€ Deploy New Template</button>
                <div id="deploy-status"></div>
            </div>
        </div>

        <div class="status-bar">
            <span>Session: <strong id="session-id">matrix-revolution-{{timestamp}}</strong></span>
            <span>Context: <strong id="context-size">0 chars</strong></span>
            <span>AI: <span id="ai-status">Ready</span></span>
            <span>Sandbox: <span id="sandbox-status">Ready</span></span>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/javascript/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.7/mode/python/python.min.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
